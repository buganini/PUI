<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            padding: 30px;
            background-color: #FFFFFF;
            color: #000000;
        }
        ul {
            padding-left: 15px;
        }
        li {
            margin: 5px;
        }
        .flex {
            display: flex;
        }
        .python {
            padding: 10px;
        }
        .demos {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .demo {
            display: block;
            padding: 20px;
            background: #F0F0F0;
        }
        .container {
            display: flex;
            padding: 20px;
        }
        .list {
            flex-direction: column;
        }
        .widget {
            display: inline-flex;
            border: 3px solid #000000;
            padding: 5px;
            gap: 5px;
        }
        .expand {
            flex-grow: 1;
            align-self: stretch;
        }
        .scroll {
            overflow: auto;
            align-items: flex-start;
        }
        .nowrap {
            white-space: nowrap;
        }
        .static {
            display: inline-flex;
            border: 3px solid black;
            padding: 5px;
            gap: 5px;
            align-items: center;
        }
        .weak {
            display: inline-flex;
            border: 3px solid blue;
            padding: 5px;
            gap: 5px;
            align-items: center;
        }
        .strong {
            display: inline-flex;
            border: 3px solid red;
            padding: 5px;
            gap: 5px;
            align-items: center;
        }
    </style>
</head>
<body>
<h1>Sizing</h1>
In following demos, elements come with 5px padding/gap and 3px colored border.

<h2>Rules</h2>
<ul>
    <li>No unintended overflow.</li>
    <li>An element could be categorized into 3 types:
        <ul>
            <li>Static: A static element is a visible element with a fixed size, e.g., a button, a label, etc.</li>
            <li>Growable: A growable element always grows to fit its content; the specified size is essentially the minimum size, e.g., a vbox, a hbox, etc.</li>
            <li>Shrinkable: A shrinkable element can be smaller than its content or shrink to accommodate available space, and it's also a growable element, e.g., a scroller, a text viewer, etc.</li>
        </ul>
    </li>
    <li>An element is in one of the following 3 sizing modes:
        <ul>
            <li><span class="widget">Static</span> the element's size is specified or matches its content.</li>
            <li><span class="weak container">Weakly expanding</span> the element is expanding with lower priority.</li>
            <li><span class="strong container">Strongly expanding</span> the element is expanding with higher priority.</li>
        </ul>
    </li>
    <li>A container or a scroll is default to weakly expanding.</li>
    <li>A weakly expanding element won't be expanding if there is any strongly expanding siblings.</li>
    <li>The outmost container doesn't expand, no matter it's weakly or strongly expanding.</li>
</ul>

<h2>Case 1: Fit the content</h2>
The most compact sizing.
<div class="demos">
    <div class="demo">
        <ul>
            <li>A widget is compact if it's not expanding.</li>
        </ul>
        <div class="container">
            <div class="widget">Widget</div>
        </div>
    </div>
    <div class="demo">
        <ul>
            <li>No unintended overflow.</li>
            <li>A container always grows to fit its content.</li>
        </ul>
        <div class="container">
            <div class="weak list">
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
            </div>
        </div>
    </div>
    <div class="demo">
        <ul>
            <li>A container or a scroll is default to weakly expanding.</li>
            <li>But a weakly expanding element won't be expanding if it's the outmost container.</li>
        </ul>
        <div class="container">
            <div class="weak">
                <div class="widget">Widget</div>
                <div class="widget">Widget</div>
            </div>
        </div>
    </div>
</div>


<h2>Case 2: Container with specified size</h2>
The outmost container is specified with a size of 100x100 px. (Positioning is not discussed here.)
<div class="demos">
    <div class="demo">
        <ul>
            <li>A widget remains its size.</li>
            <li>A container or a scroll is default to weakly expanding.</li>
        </ul>
        <div class="container">
            <div class="static" style="width: 100px; min-height: 100px;">
                <div class="weak expand">
                    <div class="widget">Widget</div>
                </div>
            </div>
        </div>
    </div>

    <div class="demo">
        <ul>
            <li>No unintended overflow.</li>
            <li>A container always grows to fit its content.</li>
        </ul>
        <div class="container">
            <div class="static" style="width: 100px; min-height: 100px;">
                <div class="list weak expand">
                    <div class="widget">A Widget</div>
                    <div class="widget">B Widget</div>
                    <div class="widget">C Widget</div>
                    <div class="widget">D Widget</div>
                    <div class="widget">E Widget</div>
                    <div class="widget">F Widget</div>
                    <div class="widget">G Widget</div>
                    <div class="widget">H Widget</div>
                    <div class="widget">I Widget</div>
                    <div class="widget">J Widget</div>
                </div>
            </div>
        </div>
    </div>

    <div class="demo">
        <ul>
            <li>No unintended overflow.</li>
            <li>A scroller (shrinkable) can contain content larger than its size and can shrink.</li>
        </ul>
        <div class="container">
            <div class="static" style="width: 100px; height: 100px;">
                <div class="list weak expand scroll">
                    <div class="widget">A Widget</div>
                    <div class="widget">B Widget</div>
                    <div class="widget">C Widget</div>
                    <div class="widget">D Widget</div>
                    <div class="widget">E Widget</div>
                    <div class="widget">F Widget</div>
                    <div class="widget">G Widget</div>
                    <div class="widget">H Widget</div>
                    <div class="widget">I Widget</div>
                    <div class="widget">J Widget</div>
                </div>
            </div>
        </div>
    </div>
</div>

<h2>Case 3: Weighting</h2>
The outmost container is specified with a width of 100%.
<div class="demos">
    <div class="demo">
        <ul>
            <li>An element is strongly expanding if weight is set.</li>
        </ul>
        <div class="container">
            <div class="static expand">
                <div class="strong expand">weighted</div>
                <div class="strong expand">weighted</div>
            </div>
        </div>
    </div>
    <div class="demo">
        <ul>
            <li>A weakly expanding element won't be expanding if there is any strongly expanding siblings.</li>
        </ul>
        <div class="container">
            <div class="static expand">
                <div class="expand strong">weighted</div>
                <div class="weak">
                    &nbsp;
                </div>
            </div>
        </div>
    </div>
    <div class="demo">
        <ul>
            <li>Outer strong expanding element wins.</li>
        </ul>
        <div class="container">
            <div class="static expand">
                <div class="expand strong">weighted</div>
                <div class="weak">
                    <div class="strong nowrap">weighted</div>
                </div>
            </div>
        </div>
    </div>
    <div class="demo">
        <ul>
            <li>Manually set the weight to make it strongly expanding.</li>
        </ul>
        <div class="container">
            <div class="static expand">
                <div class="expand strong">weighted</div>
                <div class="expand strong">
                    <div class="strong expand nowrap">weighted</div>
                </div>
            </div>
        </div>
    </div>
</div>

<h2>Implementation Details</h2>
<h3>Textual</h3>
<ul>
    <li></li>
</ul>

</body>
</html>
